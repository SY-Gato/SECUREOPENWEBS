<!DOCTYPE html>
<html>
  <head>
    <title>Secure Link Encoder</title>
  </head>
  <body>
    <h1>Secure Link Encoder</h1>
    <p>Error: NULL</p>
    <p id="output">Output: NULL</p>
    <input type="url" placeholder="url" id="targ" spellcheck="off">
    <button onclick="encode()">Get Secure Link</button>
    <script>
      function check(url) {
        var urlPattern = new RegExp('^(https?:\\/\\/)?'+ // validate protocol
			  '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // validate domain name
	      '((\\d{1,3}\\.){3}\\d{1,3}))'+ // validate OR ip (v4) address
	      '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // validate port and path
	      '(\\?[;&a-z\\d%_.~+=-]*)?'+ // validate query string
	      '(\\#[-a-z\\d_]*)?$','i'); // validate fragment locator
				return !!urlPattern.test(url);
      }
	    function encode() {
				let el = document.getElementById("targ");
				if (el.value != "") {
					let out = document.getElementById("output");
					out.textContent = "Output: https://sy-gato.github.io/SECUREOPENWEBS/SECURE/OPEN?url="+encodeURIComponent(btoa(el.value));
				}
			}

    </script>
  </body>
</html>
